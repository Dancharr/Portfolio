import React, {Component, useState, useRef, useEffect} from 'react';
import { StyleSheet, css } from 'aphrodite'
import Circ from '../svgs/circle.svg'

//svgs

//Parallax
import { withController } from 'react-scroll-parallax';
import { Parallax } from 'react-scroll-parallax';

import Waterdrop from './waterdrop'

// const useForceUpdate = () => useState()[1];

function ParallaxField(props) {

   
    
    const handleLoad = () => {
        props.parallaxController.update();
        console.log("updated");
    };

    useEffect(() => handleLoad(props.parallaxController.update()), []);

    const waterdrops = [
        {depth: 1, left:'65%', top:'10%'},
        {depth: 2, left:'40%', top:'15%'},
        {depth: 3, left:'80%', top:'20%'},
        {depth: 1, left:'20%', top:'18%'},
        {depth: 1, left:'55%', top:'25%'},
        {depth: 2, left:'30%', top:'28%'},
        {depth: 2, left:'76%', top:'32%'},
        {depth: 1, left:'34%', top:'38%'},
        {depth: 3, left:'17%', top:'45%'},
        {depth: 2, left:'67%', top:'51%'},
        {depth: 1, left:'73%', top:'56%'},
        {depth: 1, left:'40%', top:'62%'},
        {depth: 2, left:'12%', top:'65%'},
        {depth: 1, left:'67%', top:'73%'},
        {depth: 4, left:'38%', top:'84%'},
        {depth: 2, left:'94%', top:'86%'},
        {depth: 3, left:'48%', top:'91%'},
    ]

    return (
        <div>
            <Parallax
                y={[-50, 50]}
                className={css(styles.absoParallax)}
            >
                <svg xmlns='http://www.w3.org/2000/svg' className={css(styles.stalac)}
                viewBox='0 0 1920 1080' id='svg40'>

                    <g transform='translate(9.796 166.53)' id='layer5'>
                        <path d='m -44.901278,320.95455 12.828937,239.4735 14.967092,79.11177 23.5197173,62.00653 10.6907807,79.11177 12.828936,64.14468 42.763122,-130.42752 -10.69078,-111.1841 8.552624,-104.76966 47.039439,94.07888 -8.55263,44.90127 6.41447,79.11176 12.82894,53.45391 14.96709,32.07234 4.27631,-70.55914 -2.13815,-38.48682 42.76312,-57.7302 29.93418,-98.3552 4.27632,-96.21703 4.27631,-132.56567 2.13816,218.09191 21.38156,72.69732 19.24339,115.46043 21.38156,-102.63147 6.41448,-89.80258 -6.41448,-57.7302 V 406.4808 l 6.41448,-83.38809 23.51971,-104.76965 4.27633,-147.532769 8.55261,-134.703837 21.38156,211.677456 27.79604,164.63802 v 121.87491 l 12.82893,111.18411 25.65789,-94.07888 10.69078,-119.73673 -2.13818,-85.52625 -8.5526,-98.35518 21.38156,89.80256 19.24341,81.24993 27.79601,111.18411 27.79604,113.32228 14.96708,-186.01957 c 0,0 -12.82893,-62.00653 -14.96708,-74.83546 -2.13815,-12.82896 -17.10526,-89.80257 -19.24341,-102.63151 -2.13815,-12.82893 4.2763,-205.262986 4.2763,-205.262986 l 4.27633,-168.914334 29.93419,23.51972 2.13815,74.835463 -2.13815,117.598586 -4.27633,124.013051 8.55263,59.86838 6.41448,100.49334 29.93417,-109.04597 -10.69078,-83.38809 V -4.0451743 l 70.55916,-132.5656857 -4.2763,160.361715 -12.82896,98.355185 21.38156,68.42099 v 34.2105 l 6.41448,96.21702 10.69078,25.65789 14.96708,-53.4539 2.13818,-98.35519 -17.10526,-104.769654 29.93419,-132.565681 12.82893,-138.980145 10.69078,156.085394 17.10526,109.045964 -8.55263,55.592062 21.38156,55.59206 21.38156,76.97363 2.13815,-55.59207 -19.24341,-91.94072 29.93419,-94.078867 19.24341,102.631497 2.13816,70.55915 12.82893,53.4539 14.96711,-85.52624 19.24341,-166.7761797 6.41445,106.9078097 14.96711,94.07887 8.5526,-62.00653 23.51974,76.97362 19.24338,-138.980148 14.96711,-100.493339 4.2763,119.736747 8.55263,147.53277 27.79604,119.73675 4.2763,-147.53278 14.96708,-83.38809 59.86837,111.18412 19.2434,119.73675 4.2763,-186.01959 12.829,-91.940714 40.6249,115.460434 v 81.24993 l -10.6908,76.97362 38.4869,-76.97362 57.7302,-89.80256 -34.2105,126.15121 4.2763,83.38809 40.625,113.32228 c 0,0 8.5526,-121.87491 10.6907,-132.56569 2.1382,-10.69078 17.1053,-111.18411 17.1053,-111.18411 l 36.3486,-12.82894 -2.1381,81.24993 -19.2434,44.9013 14.9671,126.15118 14.9671,40.62498 v -74.83547 l 27.796,-102.63147 21.3816,-138.98016 8.5526,149.67094 12.8289,109.04595 -6.4144,32.07234 -23.5198,53.45391 83.3881,-130.42752 25.6579,-156.08541 34.2105,59.86838 17.1052,83.38807 -19.2434,64.14468 -4.2763,124.01307 29.9342,85.52624 6.4145,-153.94723 14.9671,-68.42101 2.1381,-179.60511 12.829,151.8091 8.5526,104.76963 12.8289,113.32228 44.9013,-83.38809 25.6579,-175.32879 72.6973,179.60512 -21.3816,98.35517 6.4145,89.80255 14.9671,-104.76963 21.3816,-66.28286 8.5526,-162.49986 27.796,138.98015 12.8289,145.39462 4.2764,109.04596 23.5197,-162.49986 4.2763,102.63148 23.5197,-136.84197 36.3487,245.88795 10.6907,-168.91434 19.2435,-64.14468 12.8289,-83.38809 109.0459,-14.96711 126.1513,-339.96681 -36.3487,-697.0389 c 0,0 -1107.5649,-17.10526 -1186.67665,-17.10526 -79.11176,0 -1426.15013,79.11179 -1426.15013,79.11179 l 395.55887,391.282565 z'
                        id='path3774' fill='#513b08' stroke='#513b08' />
                    </g>

                </svg>
            </Parallax>
            <Parallax
                y={[-30, 30]}
                className={css(styles.absoParallax)}
            >
                <svg xmlns='http://www.w3.org/2000/svg' className={css(styles.stalac)}
                viewBox='0 0 1920 1080' id='svg40'>
                    <g transform='translate(-9.796 78.367)' id='layer2'>
                        <path d='m -27.796029,415.03338 4.276311,151.8091 38.486811,91.9407 v 126.15121 l 21.381563,64.14471 -2.138156,156.0854 23.519717,-68.421 12.828937,-62.00654 14.967093,-91.94072 2.138156,-166.77619 27.796027,-132.56566 10.69079,132.56566 36.34865,188.15775 -4.27631,136.842 12.82894,36.34867 19.2434,-100.49336 8.55263,-100.49332 -29.93419,-113.32229 21.38156,-132.56569 17.10525,-134.70384 32.07234,-220.23008 27.79602,47.03943 -36.34864,126.15122 8.55262,153.94726 38.4868,151.80907 -4.2763,-181.74326 -14.96709,-147.53278 32.07235,-98.35519 25.65786,-153.947251 42.76313,314.308971 44.90127,66.28284 42.76315,162.49985 19.24338,130.42755 6.41448,-226.64457 L 502.46671,374.4084 466.11804,205.49408 517.43379,70.790233 536.6772,226.87564 575.16402,160.59279 v 100.49334 l 10.69078,149.67094 23.51971,-2.13815 -2.13815,83.3881 34.2105,-102.63151 -36.34865,-85.52624 V 75.066545 l 19.24339,109.045965 21.38156,96.21702 66.28286,57.73023 -8.55263,-156.0854 47.03942,-64.14469 L 737.66388,-4.0452328 803.94674,167.00726 c 0,0 29.93416,-126.151212 21.38156,-126.151212 -8.55263,0 8.5526,-96.21703 8.5526,-96.21703 l 34.21052,-32.072342 62.00654,113.322278 -2.13818,38.486811 34.21052,70.559155 19.24338,89.80256 -2.13815,104.76965 14.96711,47.03945 12.82896,83.38807 17.1052,-91.9407 -14.9671,-76.97364 10.6908,-117.59858 -21.38156,-79.111777 27.79606,-104.769654 12.8289,74.835466 19.2434,62.006525 21.3816,36.34866 -2.1382,51.31575 2.1382,79.11179 19.2434,94.07887 4.2763,-68.42101 -2.1382,-85.52625 21.3816,-76.97362 4.2763,-121.874901 34.2105,115.460431 25.6579,83.38809 6.4145,111.18411 25.6578,115.46044 21.3816,-27.79602 -17.1053,-72.69731 2.1382,-98.35519 12.8289,-104.76965 36.3487,160.36172 21.3815,109.04596 6.4145,113.32228 12.829,27.79604 -2.1382,-36.34867 -2.1381,-74.83546 12.8289,-87.6644 -6.4145,-81.24994 -10.6908,-74.83547 36.3487,102.63151 2.1381,57.7302 10.6908,115.46044 8.5527,106.9078 14.967,64.14469 8.5527,-29.93417 -8.5527,-145.39462 23.5197,-62.00654 29.9342,-55.59205 19.2434,-64.14471 34.2105,-25.65786 72.6974,-27.79603 10.6907,156.08539 14.9671,83.3881 -4.2763,104.76965 -4.2763,79.11179 21.3816,81.24992 8.5526,-74.83546 17.1052,-70.55914 V 502.6978 l -4.2763,-100.49336 70.5592,-38.48682 12.8289,141.11833 27.7961,96.21702 6.4144,111.18411 -21.3815,53.45393 17.1052,79.11176 29.9342,51.31575 29.9342,-100.49335 25.6579,-138.98014 10.6907,96.21702 19.2435,74.83546 25.6578,44.9013 -17.1052,-145.39462 25.6578,-70.55916 12.829,-119.73674 17.1052,79.11176 36.3487,-42.76312 89.8026,-179.60512 203.1248,-579.44032 -322.8616,-252.30243 -1937.169506,-53.4539 -478.946974,27.79604 64.14468,692.76259 168.91434,260.85505 z'
                        id='path3768' fill='#7a590c' stroke='#7a590c' />
                    </g>
                </svg>
            </Parallax>
            <div
                y={[0, 0]}
                className={css(styles.absoParallax)}
            >
                <svg xmlns='http://www.w3.org/2000/svg' className={css(styles.stalac)}
                viewBox='0 0 1920 1080' id='svg40'>
                    <g id='layer1' transform='translate(-16.37 825.095)'>
                        <path d='m -15.119047,-614.67866 33.261904,320.52379 34.773809,134.55954 7.559524,145.142851 25.702381,117.928569 6.047619,137.58334 18.14286,10.58333 -1.51191,-69.54763 6.04762,-86.178578 -15.119046,-126.999998 42.333336,-217.714274 -9.07143,-134.55951 31.75,155.72618 28.72619,223.7619044 37.79761,98.2738156 -9.07142,-80.130966 -19.65476,-66.523817 4.53571,-179.916667 -9.07143,-119.44045 36.28572,-99.78573 31.75,-78.61904 9.07142,-28.72619 6.04761,-24.19048 13.60715,6.04763 3.02382,72.57142 -4.53573,90.7143 18.14288,43.84521 4.5357,52.91667 10.58333,71.05954 12.09524,43.84524 v -60.47621 l -1.51191,-49.89285 3.02382,-69.5476 -7.55952,-48.38097 18.14285,-166.30952 25.70237,-49.89285 13.60715,71.05952 21.16667,78.61906 -1.51191,98.27379 13.60715,102.80951 16.63094,52.91667 -1.51188,54.42857 15.11903,34.77382 -3.02382,34.77382 18.14288,-36.28573 1.51191,-71.05951 -7.55955,-105.83333 13.60715,-179.91667 25.7024,-46.86905 -13.60715,-61.98809 43.84524,-60.47619 52.91666,69.54762 -9.07142,90.71428 6.04761,37.79761 12.09524,-39.30952 3.02381,-45.35714 19.65476,-45.35714 15.11903,120.95238 -4.53569,125.48809 7.55951,61.98809 7.55952,40.82142 7.55954,-36.2857 c 0,0 -9.07145,-16.63096 -9.07145,-28.72618 0,-12.09524 12.09524,-143.63096 12.09524,-143.63096 l 6.04764,-95.25 33.2619,-60.47619 4.5357,155.72619 31.75,80.13096 -10.58333,105.83333 10.58333,51.40476 16.63097,-92.22621 9.07142,-74.08333 -19.65475,-148.16665 51.40475,-84.66667 3.02379,-78.61904 71.05955,-40.82143 6.0476,45.35714 25.7024,83.15476 6.0476,-27.21428 -12.09524,-51.40476 43.84524,-66.52381 71.05949,136.07142 -1.51185,250.9762 9.07145,184.45236 19.6547,-122.46427 c 0,0 -19.6547,-119.44048 -15.119,-136.07142 4.5357,-16.63097 42.3333,-95.25001 42.3333,-95.25001 l -25.7024,-123.97619 55.9405,-54.42857 27.2143,42.33333 60.4762,190.50001 c 0,0 -19.6548,57.45237 -19.6548,63.5 0,6.04761 21.1667,161.77379 21.1667,161.77379 l 16.6309,54.42857 1.5119,-84.66666 -13.6071,-78.61903 v -71.05955 l 39.3095,-77.10713 -21.1666,-68.03571 22.6785,-87.69048 54.4286,40.82143 -4.5357,58.96429 -4.5357,146.65475 31.75,77.10715 15.119,42.33334 -6.0476,-83.15476 -13.6071,-111.88097 46.869,-93.73808 37.7976,58.96428 4.5357,65.01189 3.0238,92.22621 -9.0714,58.96428 15.1191,127 12.0952,68.03572 6.0476,-71.05954 -4.5357,-57.45237 -3.0238,-54.42857 36.2857,-36.28573 -12.0952,-87.69045 c 0,0 -1.5119,-58.9643 -1.5119,-65.01191 0,-6.04763 33.2619,-54.42858 33.2619,-54.42858 l 46.869,98.27382 25.7024,101.29761 1.5119,108.85715 -12.0952,77.10712 7.5595,120.95239 13.6071,89.202391 6.0477,-77.107149 -7.5596,-71.059512 30.2381,-61.98812 -1.5119,-71.05952 -1.5119,-110.36903 22.6786,-65.01191 24.1905,68.0357 13.6071,145.14288 25.7024,68.0357 16.6309,-134.55952 24.1905,-86.17857 48.381,148.16666 16.6309,166.309516 -19.6547,166.309544 16.6309,31.75 16.631,-96.761911 31.75,-161.773819 7.5595,-151.19048 31.75,102.80954 24.1905,193.523792 24.1904,145.142878 4.5358,-77.10715 -7.5596,-122.464303 9.0715,-211.666667 40.8214,-166.30951 40.8214,-160.2619 69.5476,-430.89285 -544.2857,10.58333 -1262.44044,-22.67859 -515.55951,39.30955 139.09523,554.86903 z'
                        id='path60' fill='#a57608' stroke='#a57608' />
                    </g>
                </svg>
            </div>
            <Parallax
            y={[40, -51]}
            className={css(styles.absoParallax)}
            >
            <svg xmlns='http://www.w3.org/2000/svg' className={css(styles.stalac)}
            viewBox='0 0 1920 1080' id='svg40'>
                <g id='layer3'>
                    <path id='path3805' d='M -58.465211,90.768662 -51.449387,495.34793 -35.079126,298.9048 39.756343,537.44287 56.126601,336.32255 116.93042,93.107272 112.2532,266.1643 l 14.03166,102.89877 7.01582,-100.56017 51.44939,-154.34815 9.35443,-70.158255 14.03165,142.655115 2.33861,70.15825 28.0633,-140.31651 18.70887,49.11078 35.07911,-119.269028 7.01585,114.591808 30.4019,-35.07912 V 95.445879 l 70.15824,77.174081 4.67722,63.14243 30.40193,-147.332335 2.33859,65.481035 4.67723,42.09495 L 465.38307,65.04397 505.13942,172.61996 561.26601,36.980668 582.31351,149.23387 615.054,43.996495 V 100.1231 l 23.3861,70.15825 49.11077,-184.750067 9.35445,60.803819 84.18989,-198.781722 65.48104,149.670945 9.35443,28.063301 53.78799,-98.221553 9.35445,-44.433563 49.11077,123.9462487 51.44941,49.1107773 -39.75636,-168.379806 81.85126,81.851293 11.6931,51.449386 v 35.079127 l 65.481,-173.057026 -9.3544,135.639291 -7.0159,112.253199 46.7722,-161.363977 4.6772,-93.544333 35.0792,159.025371 28.0633,49.110777 11.693,44.433562 25.7247,-70.158257 2.3386,133.300687 37.4177,-63.14243 V 39.319278 l 46.7722,154.348152 -11.693,93.54435 51.4493,-180.07286 9.3545,-72.496859 32.7405,114.591809 v 77.17408 L 1475.6619,90.768662 V 27.626234 l 35.0792,133.300676 -14.0317,109.91459 14.0317,137.97791 23.386,-180.07285 18.7089,-119.26903 V 36.980668 l 49.1108,144.993722 -23.3861,116.93041 25.7247,98.22156 53.788,-245.55388 v 175.39564 l 72.4968,133.30066 -23.386,-121.60763 32.7405,-152.00954 35.0791,245.55387 39.7563,130.96209 23.3861,-182.41145 28.0633,81.85129 72.4969,-327.40519 63.1424,-271.27857 L 837.22183,-208.57322 9.3544337,-96.320012 Z'
                    fill='#4f330f' stroke='#4f330f' strokeWidth='0.265' />
                </g>
            </svg>
            </Parallax>
            <Waterdrop {...waterdrops[0]}/>
            <Waterdrop {...waterdrops[1]}/>
            <Waterdrop {...waterdrops[2]}/>
            <Waterdrop {...waterdrops[3]}/>
            <Waterdrop {...waterdrops[4]}/>
            <Waterdrop {...waterdrops[5]}/>
            <Waterdrop {...waterdrops[6]}/>
            <Waterdrop {...waterdrops[7]}/>
            <Waterdrop {...waterdrops[8]}/>
            <Waterdrop {...waterdrops[9]}/>
            <Waterdrop {...waterdrops[10]}/>
            <Waterdrop {...waterdrops[11]}/>
            <Waterdrop {...waterdrops[12]}/>
            <Waterdrop {...waterdrops[13]}/>
            <Waterdrop {...waterdrops[14]}/>
            <Waterdrop {...waterdrops[15]}/>
            <Waterdrop {...waterdrops[16]}/>
        </div>
  );
}
  
  const styles = StyleSheet.create({
    parallaxContainer: {
    },
    absoParallax : {
        position: 'absolute',

    },
    stalac : {
        width : '100vw',
    },
    parallax1 : {
        position: 'absolute',
        left: '30%',
        top : '10%',
    },
    parallax2 : {
        position: 'absolute',
        left: '50%',
        top : '15%',
    },
    parallax3 : {
        position: 'absolute',
        left: '40%',
        top : '25%',
    },
    
  })


export default withController(ParallaxField);
